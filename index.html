<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeb's Restaurant</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        html, body {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 24px;
        }
        html {
            overflow: hidden;
            height: 100%;
        }
        body {
            margin: 0;
            height: 100%;
            min-height: 100vh;
            overflow: hidden;
            overscroll-behavior: none;
            position: relative;
            background-color: #d8c8b8;
            background-image: url(assets/brick-texture.png);
            background-size: 300px auto;
            background-repeat: repeat;
            color: #9e4538;
        }
        .brick-band {
            position: fixed;
            left: 0;
            right: 0;
            z-index: 1;
            background-color: #c4b5a8;
            background-image: url(assets/brick-pattern.svg);
            background-repeat: repeat;
            background-size: 80px 48px;
        }
        .header {
            position: fixed;
            z-index: 2;
            top: 0;
            left: 0;
            right: 0;
            height: 25vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            overflow: hidden;
        }
        .header .logo-frame {
            background: transparent;
            padding: 0;
            display: inline-block;
            max-height: 100%;
        }
        .header .logo-frame img {
            display: block;
            width: 80vw;
            max-width: 80vw;
            max-height: 25vh;
            height: auto;
            object-fit: contain;
        }

        /* Button bar - wide thin buttons directly under stripes */
        .icon-bar {
            position: fixed;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: row;
            z-index: 100;
        }
        .icon-bar .desktop-icon {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #a85c4a;
            border: 1px solid #b87a65;
            border-top: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            user-select: none;
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 24px;
            font-weight: 700;
            font-style: italic;
            color: #fff;
            min-height: 0;
        }
        .icon-bar .desktop-icon:not(:last-child) {
            border-right: none;
        }
        .icon-bar .desktop-icon:hover {
            background: #b86a55;
        }
        .icon-bar .desktop-icon::before {
            content: '';
            display: inline-block;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            margin-right: 8px;
            background: transparent;
        }
        .icon-bar .desktop-icon.active::before {
            background: #84cc16;
        }

        /* Main content - fills space below buttons, no scroll */
        .main-content {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            overflow: hidden;
            background: rgba(216, 200, 184, 0.92);
            color: #333;
        }
        .content-pane {
            display: none;
            padding: 24px 32px;
            height: 100%;
            overflow: hidden;
            box-sizing: border-box;
        }
        .content-pane.active { display: block; }
        .content-pane a {
            color: #9e4538;
            text-decoration: underline;
        }
        .content-pane a:hover { color: #b85a48; }

        .about-pane.active {
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 24px 32px;
        }
        .about-pane {
            font-size: 17px;
            line-height: 1.45;
        }
        .about-pane > * { margin: 0; }
        .about-block { flex: 1 1 280px; min-width: 0; }
        .about-block.wide { flex: 1 1 100%; }
        .about-footer { text-align: center; margin-top: auto; padding-top: 16px; }
        .about-block h4 { margin: 0 0 8px 0; color: #9e4538; font-size: 2em; font-style: italic; }
        .about-block h4:not(.about-title) { font-size: 1.5em; }
        .about-hero { text-align: center; }
        .about-title { font-size: 2em !important; margin-bottom: 4px; }
        .about-subtitle { font-size: 1em; opacity: 0.9; margin: 0; }
        .hours-table {
            margin: 4px 0 12px 0;
            border-collapse: collapse;
            font-size: 16px;
        }
        .hours-table td {
            padding: 6px 12px;
            border: 1px solid #b87a65;
        }
        .hours-table tr:nth-child(odd) {
            background: #e8d8c8;
        }
        .hours-table tr:nth-child(even) {
            background: #e0d0c0;
        }
        .about-split { display: flex; gap: 32px; flex: 1 1 100%; min-width: 0; }
        .about-left { flex: 1 1 50%; min-width: 0; }
        .about-right { flex: 1 1 50%; min-width: 0; display: flex; gap: 24px; flex-wrap: wrap; }
        .about-right .about-block { flex: 1 1 0; min-width: 180px; }
        .about-us-row { display: flex; gap: 24px; align-items: flex-start; flex: 1 1 100%; min-width: 0; }
        .about-us-text { flex: 1; min-width: 0; }
        .about-photo { flex: 0 0 auto; text-align: center; }
        .about-photo img { max-width: 280px; width: 100%; height: auto; border-radius: 8px; border: 2px solid #b87a65; }
        .about-photo figcaption { font-size: 0.85em; margin-top: 6px; color: #666; font-style: italic; }
        @media (max-width: 600px) {
            .about-us-row { flex-direction: column; }
            .about-split { flex-direction: column; }
        }

        .menu-pane.active {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .menu-pane {
            font-size: 17px;
            line-height: 1.4;
        }
        .menu-pane { padding-top: 0; }
        /* Menu subpage bar - same fixed environment as main icon-bar */
        .menu-nav {
            position: fixed;
            left: 0;
            right: 0;
            z-index: 99;
            display: none;
            flex-wrap: nowrap;
            flex-shrink: 0;
        }
        .menu-nav.visible {
            display: flex;
        }
        @media (max-width: 900px) {
            /* 4 rows of 3 for 12 categories */
            .menu-nav.visible {
                display: grid !important;
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(4, auto);
            }
            .menu-nav-btn {
                border-right: none !important;
                border-bottom: none !important;
                padding: 0.35rem 0.4rem;
                font-size: 12px;
            }
            .menu-nav-btn:last-child { border-right: 1px solid #b87a65 !important; }
            .menu-nav-btn:nth-child(3n) { border-right: 1px solid #b87a65 !important; }
            .menu-nav-btn:nth-child(n+10) { border-bottom: 1px solid #b87a65 !important; }
        }
        .menu-nav-btn {
            flex: 1 1 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #a85c4a;
            border: 1px solid #b87a65;
            border-right: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            user-select: none;
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 20px;
            font-weight: 700;
            font-style: italic;
            color: #fff;
        }
        .menu-nav-btn:last-child { border-right: 1px solid #b87a65; }
        .menu-nav-btn:hover { background: #a06945; }
        .menu-nav-btn:nth-child(1) { flex: 1 1 8ch; }
        .menu-nav-btn:nth-child(2) { flex: 1 1 10ch; }
        .menu-nav-btn:nth-child(3) { flex: 1 1 12ch; }
        .menu-nav-btn:nth-child(4) { flex: 1 1 7ch; }
        .menu-nav-btn:nth-child(5) { flex: 1 1 6ch; }
        .menu-nav-btn:nth-child(6) { flex: 1 1 10ch; }
        .menu-nav-btn:nth-child(7) { flex: 1 1 6ch; }
        .menu-nav-btn:nth-child(8) { flex: 1 1 7ch; }
        .menu-nav-btn:nth-child(9) { flex: 1 1 7ch; }
        .menu-nav-btn:nth-child(10) { flex: 1 1 5ch; }
        .menu-nav-btn:nth-child(11) { flex: 1 1 9ch; }
        .menu-nav-btn:nth-child(12) { flex: 1 1 9ch; }
        .menu-nav-btn::before {
            content: '';
            display: inline-block;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            margin-right: 8px;
            background: transparent;
        }
        .menu-nav-btn.active::before { background: transparent; }
        .menu-sub {
            display: none;
            flex: 1;
            min-height: 0;
            overflow: hidden;
        }
        .menu-sub.active { display: block; }
        .menu-sub-content { overflow: auto; min-height: 0; flex: 1; }
        .menu-split { display: flex; gap: 32px; flex: 1; min-height: 0; min-width: 0; }
        .menu-left { flex: 1; min-width: 0; }
        .menu-right { flex: 2; min-width: 0; }
        .menu-pizza-halves {
            display: flex;
            gap: 24px;
            height: 100%;
            min-height: 0;
        }
        .menu-pizza-halves > div { flex: 1; min-width: 0; }
        @media (max-width: 600px) {
            .menu-pizza-halves { flex-direction: column; }
        }
        .menu-section { margin-bottom: 16px; }
        .menu-section h4 { margin: 0 0 8px 0; color: #9e4538; font-size: 2em; font-style: italic; }
        .menu-table {
            border-collapse: collapse;
            font-size: 16px;
            width: 100%;
        }
        .menu-table td {
            padding: 6px 12px;
            border: 1px solid #b87a65;
            vertical-align: top;
        }
        .menu-table td:first-child { white-space: nowrap; }
        .menu-table td:last-child { text-align: right; white-space: nowrap; }
        .menu-table td[colspan="2"] { text-align: left; white-space: normal; font-size: 14px; }
        .menu-table tr:nth-child(odd) { background: #e8d8c8; }
        .menu-table tr:nth-child(even) { background: #e0d0c0; }
        .menu-footer { text-align: center; flex-shrink: 0; padding-top: 8px; font-size: 15px; margin: 0; }
        .menu-note { margin: 0 0 6px 0; font-size: 15px; }
        @media (max-width: 700px) {
            .menu-split { flex-direction: column; }
        }

        .order-pane.active {
            display: flex;
            flex-direction: column;
            gap: 16px;
            overflow: auto;
        }
        .order-pane {
            font-size: 17px;
            line-height: 1.5;
        }
        .order-pane p { margin: 0 0 16px 0; }
        .order-layout { display: flex; gap: 24px; flex: 1; min-height: 0; min-width: 0; }
        .order-menu { flex: 1; min-width: 0; overflow: auto; }
        .order-cart { flex: 0 0 320px; min-width: 0; display: flex; flex-direction: column; }
        .order-cart-inner { background: #e8e0d5; border: 1px solid #b87a65; border-radius: 8px; padding: 16px; flex: 1; min-height: 0; overflow: auto; }
        .order-cart h4 { margin: 0 0 12px 0; color: #9e4538; font-size: 1.3em; font-style: italic; }
        .order-toc { display: flex; flex-wrap: wrap; gap: 8px 16px; margin-bottom: 20px; padding: 12px 16px; background: #e8e0d5; border: 1px solid #b87a65; border-radius: 8px; }
        .order-toc a { color: #9e4538; text-decoration: none; font-size: 14px; font-weight: 600; }
        .order-toc a:hover { text-decoration: underline; }
        .order-cat { margin-bottom: 20px; }
        .order-cat[id] { scroll-margin-top: 8px; }
        .order-cat h5 { margin: 0 0 8px 0; color: #9e4538; font-size: 1.1em; font-style: italic; }
        .order-item { display: flex; justify-content: space-between; align-items: center; gap: 8px; padding: 6px 0; border-bottom: 1px solid #d8c8b8; }
        .order-item:last-child { border-bottom: none; }
        .order-item-name { flex: 1; min-width: 0; }
        .order-item-price { color: #333; white-space: nowrap; }
        .order-item-add { background: #9e4538; color: #fff; border: none; padding: 4px 12px; border-radius: 4px; cursor: pointer; font-family: inherit; font-size: 14px; }
        .order-item-add:hover { background: #b85a48; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid #d8c8b8; font-size: 15px; }
        .cart-item-qty { min-width: 2ch; }
        .cart-item-rm { background: transparent; border: none; color: #9e4538; cursor: pointer; font-size: 18px; padding: 0 4px; line-height: 1; }
        .cart-item-rm:hover { text-decoration: underline; }
        .cart-total { margin-top: 12px; padding-top: 12px; border-top: 2px solid #b87a65; font-weight: 700; font-size: 1.1em; }
        .order-checkout { margin-top: 16px; }
        .order-checkout-btn { background: #9e4538; color: #fff; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-family: inherit; font-size: 18px; font-weight: 700; width: 100%; }
        .order-checkout-btn:hover { background: #b85a48; }
        .order-checkout-btn:disabled { background: #999; cursor: not-allowed; }
        .order-phone { margin-top: 16px; font-size: 15px; color: #666; }
        .order-cart-bottom { display: none; }
        @media (max-width: 768px) {
            .order-layout { flex-direction: column; }
            .order-menu { order: 2; }
            .order-cart { order: 1; flex: 0 0 auto; }
            .order-cart-bottom { display: block; order: 3; }
        }

        /* Mobile: vertical scroll only, no horizontal scroll */
        @media (max-width: 768px) {
            html, body { overflow-x: hidden; overflow-wrap: break-word; }
            .main-content { overflow-x: hidden; overflow-y: auto; width: 100%; max-width: 100vw; }
            .content-pane {
                padding: 16px;
                overflow-x: hidden;
                overflow-y: visible;
                min-height: min-content;
                height: auto;
            }
            .about-pane.active {
                flex-direction: column;
                min-height: min-content;
                overflow: visible;
            }
            .about-split { flex-direction: column; }
            .about-left { order: 2; }
            .about-right { order: 1; }
            .about-right { flex-direction: column; }
            .about-right .about-block { flex: 1 1 auto; }
            .about-footer { margin-top: 0; }
            .menu-pane.active { min-height: min-content; overflow: visible; }
            .menu-sub { overflow: visible; }
            .menu-sub-content { overflow-x: hidden; overflow-y: visible; min-height: min-content; }
            .menu-pizza-halves { flex-direction: column; }
            .menu-table { font-size: 14px; max-width: 100%; table-layout: fixed; }
            .menu-table td { padding: 4px 8px; white-space: normal; word-wrap: break-word; }
            .menu-table td:first-child { white-space: normal; }
            .menu-table td:last-child { white-space: normal; }
            .menu-section h4 { font-size: 1.5em; }
            .menu-footer, .menu-note { font-size: 13px; }
            .menu-nav-btn { font-size: 12px; }
            .icon-bar .desktop-icon { font-size: 18px; padding: 0.4rem 0.5rem; }
            .header .logo-frame img { width: 95vw; max-width: 95vw; }
            .hours-table { max-width: 100%; table-layout: fixed; }
            .hours-table td { white-space: normal; word-wrap: break-word; }
        }
    </style>
</head>
<body>
    <div class="brick-band" id="brickBand"></div>
    <div class="header">
        <div class="logo-frame">
            <img src="assets/logo.png" alt="Jeb's Restaurant">
        </div>
    </div>

    <div class="icon-bar">
        <button class="desktop-icon" id="aboutBtn" type="button">About</button>
        <button class="desktop-icon" id="menuBtn" type="button">Menu</button>
        <button class="desktop-icon" id="orderBtn" type="button">Order</button>
    </div>

    <div class="menu-nav" id="menuNav">
        <button class="menu-nav-btn" data-cat="starters">Starters</button>
        <button class="menu-nav-btn" data-cat="specialties">Specialties</button>
        <button class="menu-nav-btn" data-cat="soups-salads">Soups & Salads</button>
        <button class="menu-nav-btn" data-cat="burgers">Burgers</button>
        <button class="menu-nav-btn" data-cat="wraps">Wraps</button>
        <button class="menu-nav-btn" data-cat="sandwiches">Sandwiches</button>
        <button class="menu-nav-btn" data-cat="pastas">Pastas</button>
        <button class="menu-nav-btn" data-cat="seafood">Seafood</button>
        <button class="menu-nav-btn" data-cat="chicken">Chicken</button>
        <button class="menu-nav-btn" data-cat="beef">Beef</button>
        <button class="menu-nav-btn" data-cat="breakfast">Breakfast</button>
        <button class="menu-nav-btn" data-cat="beverages">Beverages</button>
    </div>

    <main class="main-content" id="mainContent">
        <div class="content-pane about-pane" id="aboutPane">
            <div class="about-block wide about-hero">
                <h4 class="about-title">Jeb's Restaurant of Lowville</h4>
                <p class="about-subtitle">The Metzler family & staff welcome you!</p>
            </div>
            <div class="about-split">
                <div class="about-left">
                    <div class="about-block about-us-row">
                        <div class="about-us-text">
                            <h4>About Us</h4>
                            <p>Family owned and operated by Emerson and Jennifer (Lehman) Metzler since November 4th, 2002. We cater to families, businesses, large parties, and casual diners. We welcome locals, snowmobilers, skiers, vacationers, and travelers passing through!</p>
                            <h4>Private Events</h4>
                            <p>We have a private dining area for birthday parties, showers, rehearsal dinners, and more. Our staff strives to make your event simple and enjoyable!</p>
                        </div>
                        <div class="about-photo">
                            <figure>
                                <img src="assets/owners-photo.png" alt="Emerson and Jennifer Metzler, owners of Jeb's Restaurant">
                                <figcaption>Emerson & Jennifer Metzler</figcaption>
                            </figure>
                        </div>
                    </div>
                </div>
                <div class="about-right">
                    <div class="about-block">
                        <h4>Hours</h4>
                        <table class="hours-table">
                            <tr><td>Monday–Thursday</td><td>11am–9pm (Bar til 10pm)</td></tr>
                            <tr><td>Friday</td><td>11am–10pm (Bar til midnight)</td></tr>
                            <tr><td>Saturday</td><td>8am–10pm (Bar til midnight)</td></tr>
                            <tr><td>Sunday</td><td>8am–8pm</td></tr>
                        </table>
                    </div>
                    <div class="about-block">
                        <h4>Our Space</h4>
                        <p>Our historic building was built in the 1920s as a post office. Features include original tin ceilings, Tiffany-style chandeliers, cozy booths, and our bar with 5 big screen TVs, fireplace, pool table, and darts!</p>
                    </div>
                </div>
            </div>
            <div class="about-block wide about-footer">
                <p>5403 Shady Ave · Lowville, NY 13367 · <a href="tel:+13153766029">315-376-6029</a> · <a href="https://www.facebook.com/JebsRestaurant/" target="_blank">Facebook</a></p>
                <p><em>Parking on street or in public lot behind Lowville Town Hall Theater. Prices subject to change.</em></p>
            </div>
        </div>

        <div class="content-pane menu-pane" id="menuPane">
            <div class="menu-sub active" id="menu-sub-starters">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Super Starters</h4>
                        <p class="menu-note">Wing Sauces: Medium, Mild, Fire, BBQ, Sweet, Bourbon, Jeb's, Honey Mustard, Chipotle, Garlic Butter, Boss, Black Dust</p>
                        <table class="menu-table">
                            <tr><td>Jeb's Sampler</td><td>12.25</td></tr>
                            <tr><td>Loaded Nachos</td><td>13.96</td></tr>
                            <tr><td>Spinach and Artichoke Dip</td><td>8.95</td></tr>
                            <tr><td>Loaded Potato Skins</td><td>9.50</td></tr>
                            <tr><td>Chicken Quesadillas</td><td>12.95</td></tr>
                            <tr><td>Onion Rings</td><td>8.95</td></tr>
                            <tr><td>Cajun Mushrooms</td><td>9.95</td></tr>
                            <tr><td>Portobello Mushrooms</td><td>9.95</td></tr>
                            <tr><td>Loaded Fries</td><td>10.95</td></tr>
                            <tr><td>Mozzarella Sticks</td><td>8.05</td></tr>
                            <tr><td>Potstickers</td><td>9.95</td></tr>
                            <tr><td>Jumbo Wings (10)</td><td>14.95</td></tr>
                            <tr><td>Boneless Wings (12)</td><td>10.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-specialties">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Jeb's Specialties</h4>
                        <table class="menu-table">
                            <tr><td>Chicken Chimichanga</td><td>15.95</td></tr>
                            <tr><td>Fish Tacos</td><td>10.95</td></tr>
                            <tr><td>Primavera Pizza</td><td>11.95</td></tr>
                            <tr><td>Signature Baby Back Ribs (Full Rack)</td><td>27.95</td></tr>
                            <tr><td>Signature Baby Back Ribs (Half Rack)</td><td>17.95</td></tr>
                            <tr><td>Sizzlin' Fajitas</td><td>18.95</td></tr>
                            <tr><td>Tex Mex Bowl</td><td>12.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-soups-salads">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Scrumptious Soups & Salads</h4>
                        <p class="menu-note">Dressings: Bleu Cheese, Ranch, Italian, Thousand Islands, Parmesan Peppercorn, Honey Mustard, Caesar, Avocado Ranch, Light Raspberry Vinaigrette, Balsamic Vinaigrette, Oil and Vinegar</p>
                        <table class="menu-table">
                            <tr><td>Crock of Homemade French Onion Soup</td><td>6.25</td></tr>
                            <tr><td>Homemade Soup of the Day (Bowl)</td><td>6.25</td></tr>
                            <tr><td>Homemade Soup of the Day (Cup)</td><td>4.75</td></tr>
                            <tr><td>Soup and Salad Combo</td><td>13.95</td></tr>
                            <tr><td>Buffalo Chicken Salad</td><td>12.95</td></tr>
                            <tr><td>Caesar Salad</td><td>10.95</td></tr>
                            <tr><td>Cobb Salad</td><td>11.05</td></tr>
                            <tr><td>Fajita Salad</td><td>13.95</td></tr>
                            <tr><td>Fiesta Lime Salad</td><td>11.95</td></tr>
                            <tr><td>Mandarin Chicken Salad</td><td>14.05</td></tr>
                            <tr><td>Mediterranean Steak Salad</td><td>14.95</td></tr>
                            <tr><td>Southwest Cobb</td><td>14.75</td></tr>
                            <tr><td>Taco Salad</td><td>12.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-burgers">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Bodacious Burgers</h4>
                        <p class="menu-note">All burgers are fresh 1/2 lb. with lettuce, tomato, onion, pickle and fries or chips. Veggie or turkey burger available. Substitute onion rings $2.99</p>
                        <table class="menu-table">
                            <tr><td>Adirondack Burger</td><td>14.95</td></tr>
                            <tr><td>Basic Burger</td><td>11.50</td></tr>
                            <tr><td>Buffalo Bleu Burger</td><td>13.95</td></tr>
                            <tr><td>House Burger</td><td>16.25</td></tr>
                            <tr><td>Jeb's Burger</td><td>14.85</td></tr>
                            <tr><td>Local Grass-Fed Burger</td><td>14.95</td></tr>
                            <tr><td>Mushroom Swiss Burger</td><td>13.99</td></tr>
                            <tr><td>Patty Melt</td><td>13.99</td></tr>
                            <tr><td>Quesadilla Burger</td><td>13.99</td></tr>
                            <tr><td>Texas Burger</td><td>14.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-wraps">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Wow Wraps</h4>
                        <p class="menu-note">Served with chips or fries and pickle. Wheat or white tortilla. All wraps available vegetarian style.</p>
                        <table class="menu-table">
                            <tr><td>Adirondack Chicken Wrap</td><td>14.25</td></tr>
                            <tr><td>Buffalo Chicken Wrap</td><td>12.95</td></tr>
                            <tr><td>Cheesesteak Wrap</td><td>13.95</td></tr>
                            <tr><td>Chicken Artichoke Wrap</td><td>12.95</td></tr>
                            <tr><td>Chicken Caesar Wrap</td><td>12.95</td></tr>
                            <tr><td>Chicken Fajita Wrap</td><td>12.95</td></tr>
                            <tr><td>Chicken Portobello Wrap</td><td>13.95</td></tr>
                            <tr><td>Ranchero Chicken Wrap</td><td>12.95</td></tr>
                            <tr><td>Vegan Wrap</td><td>12.05</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-sandwiches">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Sassy Sandwiches</h4>
                        <p class="menu-note">Served with fries or chips and pickle. Substitute onion rings $2.99</p>
                        <table class="menu-table">
                            <tr><td>Shaved Prime Rib</td><td>18.95</td></tr>
                            <tr><td>Chicken Philly</td><td>15.95</td></tr>
                            <tr><td>Bacon Cheddar Chicken Grill</td><td>14.95</td></tr>
                            <tr><td>Chicken Cordon Blue Sandwich</td><td>14.95</td></tr>
                            <tr><td>Buffalo Chicken Sandwich</td><td>14.95</td></tr>
                            <tr><td>Grilled Club</td><td>14.95</td></tr>
                            <tr><td>Grilled Cheese</td><td>11.95</td></tr>
                            <tr><td>Lemon Herb Sole Sandwich</td><td>14.95</td></tr>
                            <tr><td>Grilled Reuben Sandwich</td><td>15.95</td></tr>
                            <tr><td>Jeb's Big Bleu Flatbread</td><td>15.95</td></tr>
                            <tr><td>Steak and Horsey Sandwich</td><td>18.05</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-pastas">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Perfection Pastas</h4>
                        <p class="menu-note">Served with a side of garlic bread. Add a side salad $2.99</p>
                        <table class="menu-table">
                            <tr><td>Chicken Penne Vodka</td><td>17.95</td></tr>
                            <tr><td>Pasta Marinara or Alfredo</td><td>14.95</td></tr>
                            <tr><td>Chicken and Broccoli Alfredo</td><td>17.95</td></tr>
                            <tr><td>Seafood Alfredo</td><td>23.50</td></tr>
                            <tr><td>Steak and Mushroom Alfredo</td><td>23.95</td></tr>
                            <tr><td>Buffalo Chicken Pasta</td><td>17.95</td></tr>
                            <tr><td>Cajun Shrimp Alfredo</td><td>23.50</td></tr>
                            <tr><td>Steakhouse Alfredo</td><td>23.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-seafood">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Sumptuous Seafood</h4>
                        <p class="menu-note">Served with choice of 2 sides. Add garlic shrimp $4.25, side salad $2.99</p>
                        <table class="menu-table">
                            <tr><td>Broiled Scallops</td><td>25.95</td></tr>
                            <tr><td>Broiled, Lemon Pepper or Cajun Haddock</td><td>22.95</td></tr>
                            <tr><td>Captain's Platter</td><td>25.95</td></tr>
                            <tr><td>Haddock Florentine</td><td>23.95</td></tr>
                            <tr><td>Salmon Normandy</td><td>27.95</td></tr>
                            <tr><td>Shrimp Platter</td><td>27.95</td></tr>
                            <tr><td>Shrimp Scampi</td><td>19.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-chicken">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Bistro Chicken</h4>
                        <p class="menu-note">Served with choice of 2 sides: Garlic Mashed Potatoes, Fries, Rice Pilaf, Vegetables, Broccoli, Coleslaw, Applesauce</p>
                        <table class="menu-table">
                            <tr><td>Chicken Portobello Skillet</td><td>19.95</td></tr>
                            <tr><td>Smothered Chicken Skillet</td><td>19.95</td></tr>
                            <tr><td>Adirondack Mountain Chicken</td><td>19.95</td></tr>
                            <tr><td>Mediterranean Chicken</td><td>19.15</td></tr>
                            <tr><td>Chicken Tenders Platter</td><td>14.95</td></tr>
                            <tr><td>Chicken Parmesan</td><td>19.25</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-beef">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Beautiful Beef</h4>
                        <p class="menu-note">Served with 2 sides. Toppings: Black & Bleu $4.00, Bourbon $3.00, Limano $3.75, Portobello $4.75</p>
                        <table class="menu-table">
                            <tr><td>New York Strip (12 oz)</td><td>28.95</td></tr>
                            <tr><td>Ribeye (16 oz)</td><td>31.95</td></tr>
                            <tr><td>Sirloin (8 oz)</td><td>27.95</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-breakfast">
                <div class="menu-sub-content menu-pizza-halves">
                    <div>
                        <div class="menu-section">
                            <h4>Breakfast</h4>
                            <p class="menu-note">Served Saturday & Sunday 8am-11am</p>
                            <table class="menu-table">
                                <tr><td>Adirondack Mountain Breakfast</td><td>17.99</td></tr>
                                <tr><td>Average Joe</td><td>11.95</td></tr>
                                <tr><td>Little Joe</td><td>8.95</td></tr>
                                <tr><td>Lewis County Steak and Eggs</td><td>20.95</td></tr>
                                <tr><td>Jeb's Benedict</td><td>12.25</td></tr>
                                <tr><td>Early Riser Egg Sandwich</td><td>11.95</td></tr>
                                <tr><td>Fiesta Breakfast Burrito</td><td>12.25</td></tr>
                                <tr><td>Stuffed French Toast</td><td>12.25</td></tr>
                                <tr><td>Short Stack Pancakes</td><td>6.50</td></tr>
                                <tr><td>Tall Stack Pancakes</td><td>7.25</td></tr>
                                <tr><td>Blueberry Short Stack</td><td>7.25</td></tr>
                                <tr><td>Blueberry Tall Stack</td><td>8.50</td></tr>
                                <tr><td>French Toast Short Tower</td><td>6.50</td></tr>
                                <tr><td>French Toast Tall Tower</td><td>7.25</td></tr>
                                <tr><td>French Toast Strawberry Tower</td><td>7.25-8.50</td></tr>
                            </table>
                        </div>
                    </div>
                    <div>
                        <div class="menu-section">
                            <h4>Omelets & Skillets</h4>
                            <table class="menu-table">
                                <tr><td>All American</td><td>12.95</td></tr>
                                <tr><td>Basic Cheese</td><td>11.95</td></tr>
                                <tr><td>Buffalo Chicken</td><td>11.95</td></tr>
                                <tr><td>Build Your Own Fajita</td><td>12.95</td></tr>
                                <tr><td>Cheese Steak</td><td>12.95</td></tr>
                                <tr><td>Fajita</td><td>12.95</td></tr>
                                <tr><td>Veggie Lovers</td><td>11.95</td></tr>
                                <tr><td>Florentine Skillet</td><td>12.95</td></tr>
                                <tr><td>Meat-Lover's Skillet</td><td>14.95</td></tr>
                                <tr><td>Santa Fe Skillet</td><td>12.95</td></tr>
                                <tr><td>Sausage Skillet</td><td>12.95</td></tr>
                                <tr><td>Steak Skillet</td><td>18.95</td></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="menu-sub" id="menu-sub-beverages">
                <div class="menu-sub-content">
                    <div class="menu-section">
                        <h4>Beverages</h4>
                        <p class="menu-note">Ask About Our Bar's Selection of Beer, Wine and Liquor.</p>
                        <p>Our jeb's Bar has 5 big screen TVs, a fireplace, cozy couches, juke box, pool table and darts available.</p>
                    </div>
                </div>
            </div>
            <div class="menu-footer">
                <p><em>If you have a food allergy, please notify us. Menu prices and items subject to change without notice.</em></p>
            </div>
        </div>

        <div class="content-pane order-pane" id="orderPane">
            <div class="order-layout">
                <div class="order-menu" id="orderMenu"></div>
                <div class="order-cart">
                    <div class="order-cart-inner">
                        <h4>Your Order</h4>
                        <div class="order-cart-items"></div>
                        <div class="cart-total order-cart-total">$0.00</div>
                        <div class="order-checkout">
                            <button type="button" class="order-checkout-btn" disabled>Checkout with Stripe</button>
                        </div>
                        <p class="order-phone">Or call <a href="tel:+13153766029">315-376-6029</a></p>
                    </div>
                </div>
                <div class="order-cart order-cart-bottom">
                    <div class="order-cart-inner">
                        <h4>Your Order</h4>
                        <div class="order-cart-items"></div>
                        <div class="cart-total order-cart-total">$0.00</div>
                        <div class="order-checkout">
                            <button type="button" class="order-checkout-btn" disabled>Checkout with Stripe</button>
                        </div>
                        <p class="order-phone">Or call <a href="tel:+13153766029">315-376-6029</a></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
(function() {
    const aboutBtn = document.getElementById('aboutBtn');
    const menuBtn = document.getElementById('menuBtn');
    const orderBtn = document.getElementById('orderBtn');


    const aboutPane = document.getElementById('aboutPane');
    const menuPane = document.getElementById('menuPane');
    const orderPane = document.getElementById('orderPane');
    const mainContent = document.getElementById('mainContent');
    const allPanes = [aboutPane, menuPane, orderPane];

    const DEFAULT_PANE = 'about';
    const DEFAULT_MENU_CAT = 'starters';
    const MENU_CATS = ['starters','specialties','soups-salads','burgers','wraps','sandwiches','pastas','seafood','chicken','beef','breakfast','beverages'];
    const hashFor = { about: 'about', menu: 'menu', order: 'order' };
    const paneForHash = { about: aboutPane, menu: menuPane, order: orderPane };
    const btnForHash = { about: aboutBtn, menu: menuBtn, order: orderBtn };

    function updateLayout() {
        const brickBand = document.getElementById('brickBand');
        const logoFrame = document.querySelector('.header .logo-frame');
        const iconBar = document.querySelector('.icon-bar');
        const menuNav = document.getElementById('menuNav');
        if (!brickBand || !logoFrame || !mainContent) return;
        const rect = logoFrame.getBoundingClientRect();
        const logoBottom = rect.bottom;
        const logoHeight = rect.height;
        const margin = logoHeight * 0.1;
        const bandTop = 0;
        const bandHeight = logoBottom + margin;
        brickBand.style.top = bandTop + 'px';
        brickBand.style.height = bandHeight + 'px';
        if (iconBar) {
            iconBar.style.top = (bandTop + bandHeight) + 'px';
            var topAnchor = iconBar.getBoundingClientRect().bottom;
            if (menuNav && menuPane.classList.contains('active')) {
                menuNav.classList.add('visible');
                menuNav.style.top = topAnchor + 'px';
                topAnchor = menuNav.getBoundingClientRect().bottom;
            } else if (menuNav) {
                menuNav.classList.remove('visible');
            }
            mainContent.style.top = topAnchor + 'px';
            mainContent.style.height = (window.innerHeight - topAnchor) + 'px';
        }
    }

    function setActiveButton(key) {
        [aboutBtn, menuBtn, orderBtn].forEach(function(btn) { btn.classList.remove('active'); });
        if (key && btnForHash[key]) btnForHash[key].classList.add('active');
    }

    function showMenuSub(cat, updateHash) {
        var catKey = (cat && MENU_CATS.indexOf(cat) >= 0) ? cat : DEFAULT_MENU_CAT;
        document.querySelectorAll('.menu-sub').forEach(function(s) { s.classList.remove('active'); });
        document.querySelectorAll('.menu-nav-btn').forEach(function(b) { b.classList.remove('active'); });
        var sub = document.getElementById('menu-sub-' + catKey);
        var btn = document.querySelector('.menu-nav-btn[data-cat="' + catKey + '"]');
        if (sub) sub.classList.add('active');
        if (btn) btn.classList.add('active');
        if (updateHash) window.location.hash = 'menu-' + catKey;
    }

    function showPane(key, updateHash) {
        var mainKey = (key && key in paneForHash) ? key : DEFAULT_PANE;
        var menuCat = null;
        if (key && key.indexOf('menu-') === 0) {
            mainKey = 'menu';
            menuCat = key.replace('menu-', '');
        }
        allPanes.forEach(function(p) { p.classList.remove('active'); });
        var pane = paneForHash[mainKey];
        if (pane) pane.classList.add('active');
        setActiveButton(mainKey);
        if (mainKey === 'menu') showMenuSub(menuCat || DEFAULT_MENU_CAT, false);
        if (updateHash) window.location.hash = (mainKey === 'menu' && menuCat) ? 'menu-' + menuCat : mainKey;
        updateLayout();
    }

    function syncFromHash() {
        var hash = (window.location.hash || '').replace(/^#/, '');
        var paneKey = hash;
        if (!hash) paneKey = DEFAULT_PANE;
        else if (hash === 'menu') paneKey = 'menu-' + DEFAULT_MENU_CAT;
        else if (hash.indexOf('menu-') !== 0 && !(hash in paneForHash)) paneKey = DEFAULT_PANE;
        if (!hash || hash !== paneKey) history.replaceState(null, '', '#' + paneKey);
        showPane(paneKey, false);
    }

    aboutBtn.addEventListener('click', function() { showPane('about', true); });
    menuBtn.addEventListener('click', function() { showPane('menu-starters', true); });
    orderBtn.addEventListener('click', function() { showPane('order', true); });

    (function orderModule() {
        var cart = [];
        var menuData = null;
        var API_BASE = (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')
            ? 'http://localhost:8787'
            : 'https://jebs-api.jm-306.workers.dev';

        function addToCart(item, qty) {
            qty = qty || 1;
            var existing = cart.find(function(c) { return c.id === item.id; });
            if (existing) existing.qty += qty;
            else cart.push({ id: item.id, name: item.name, price: item.price, qty: qty });
            renderCart();
        }

        function removeFromCart(id) {
            cart = cart.filter(function(c) { return c.id !== id; });
            renderCart();
        }

        function getSubtotal() {
            return cart.reduce(function(sum, c) { return sum + c.price * c.qty; }, 0);
        }

        function getTotal() {
            return getSubtotal();
        }

        function renderCart() {
            var itemsEls = document.querySelectorAll('.order-cart-items');
            var totalEls = document.querySelectorAll('.order-cart-total');
            var btns = document.querySelectorAll('.order-checkout-btn');
            if (!itemsEls.length || !totalEls.length) return;
            var cartHtml, totalHtml;
            if (cart.length === 0) {
                cartHtml = '<p style="color:#666;margin:0;">Cart is empty. Add items from the menu.</p>';
                totalHtml = '$0.00';
            } else {
                cartHtml = cart.map(function(c) {
                    return '<div class="cart-item" data-id="' + c.id + '">' +
                        '<span><span class="cart-item-qty">' + c.qty + '</span> × ' + escapeHtml(c.name) + '</span>' +
                        '<span>$' + (c.price * c.qty).toFixed(2) + ' <button type="button" class="cart-item-rm" aria-label="Remove">×</button></span>' +
                        '</div>';
                }).join('');
                totalHtml = 'Total: $' + getTotal().toFixed(2);
            }
            itemsEls.forEach(function(el) { el.innerHTML = cartHtml; });
            totalEls.forEach(function(el) { el.innerHTML = totalHtml; });
            btns.forEach(function(btn) { btn.disabled = cart.length === 0; });
            document.querySelectorAll('.order-cart-items .cart-item-rm').forEach(function(b) {
                b.addEventListener('click', function() {
                    var row = b.closest('.cart-item');
                    if (row) removeFromCart(row.getAttribute('data-id'));
                });
            });
        }

        function escapeHtml(s) {
            var d = document.createElement('div');
            d.textContent = s;
            return d.innerHTML;
        }

        function renderMenu() {
            var container = document.getElementById('orderMenu');
            if (!container || !menuData) return;
            var catsWithItems = menuData.categories.filter(function(c) { return c.items && c.items.length > 0; });
            var tocHtml = '<div class="order-toc"><strong>Jump to:</strong> ' +
                catsWithItems.map(function(cat) {
                    return '<a href="#" class="order-toc-link" data-cat="' + escapeHtml(cat.id) + '">' + escapeHtml(cat.name) + '</a>';
                }).join(' · ') + '</div>';
            container.innerHTML = tocHtml + menuData.categories.map(function(cat) {
                return '<div class="order-cat" id="order-cat-' + escapeHtml(cat.id) + '">' +
                    '<h5>' + escapeHtml(cat.name) + '</h5>' +
                    cat.items.map(function(item) {
                        return '<div class="order-item">' +
                            '<span class="order-item-name">' + escapeHtml(item.name) + '</span>' +
                            '<span class="order-item-price">$' + item.price.toFixed(2) + '</span>' +
                            '<button type="button" class="order-item-add" data-id="' + item.id + '" data-name="' + escapeHtml(item.name) + '" data-price="' + item.price + '">Add</button>' +
                            '</div>';
                    }).join('') +
                    '</div>';
            }).join('');
            container.querySelectorAll('.order-item-add').forEach(function(b) {
                b.addEventListener('click', function() {
                    addToCart({
                        id: b.getAttribute('data-id'),
                        name: b.getAttribute('data-name'),
                        price: parseFloat(b.getAttribute('data-price'))
                    });
                });
            });
            container.querySelectorAll('.order-toc-link').forEach(function(a) {
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    var el = container.querySelector('#order-cat-' + a.getAttribute('data-cat'));
                    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
        }

        function doCheckout() {
            if (cart.length === 0) return;
            var lineItems = cart.map(function(c) {
                return { id: c.id, name: c.name, priceCents: Math.round(c.price * 100), quantity: c.qty };
            });
            document.querySelectorAll('.order-checkout-btn').forEach(function(btn) { btn.disabled = true; });
            var origin = window.location.origin || (window.location.protocol + '//' + window.location.host);
            fetch(API_BASE + '/api/create-checkout-session', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    lineItems: lineItems,
                    successUrl: origin + '/?success=1#order',
                    cancelUrl: origin + '/#order'
                })
            }).then(function(r) {
                if (!r.ok) throw new Error('Checkout failed');
                return r.json();
            }).then(function(data) {
                if (data.url) window.location.href = data.url;
                else throw new Error('No checkout URL');
            }).catch(function(err) {
                console.error(err);
                alert('Checkout failed. Please call to order: 315-376-6029');
                document.querySelectorAll('.order-checkout-btn').forEach(function(btn) { btn.disabled = false; });
            });
        }

        document.querySelectorAll('.order-checkout-btn').forEach(function(btn) {
            btn.addEventListener('click', doCheckout);
        });

        function checkSuccessParam() {
            var params = new URLSearchParams(window.location.search);
            if (params.get('success') === '1') {
                cart = [];
                renderCart();
                history.replaceState(null, '', window.location.pathname + window.location.hash);
                var msg = document.createElement('p');
                msg.style.cssText = 'background:#9e4538;color:#fff;padding:12px;border-radius:8px;margin-bottom:16px;';
                msg.textContent = 'Thank you! Your order has been received. We will prepare it for pickup.';
                var orderPane = document.getElementById('orderPane');
                if (orderPane && !orderPane.querySelector('.order-success-msg')) {
                    msg.className = 'order-success-msg';
                    orderPane.insertBefore(msg, orderPane.firstChild);
                    setTimeout(function() { msg.remove(); }, 8000);
                }
            }
        }
        window.addEventListener('hashchange', function() {
            if (window.location.hash === '#order') checkSuccessParam();
        });
        if (window.location.hash === '#order') checkSuccessParam();

        fetch('menu.json').then(function(r) { return r.json(); }).then(function(data) {
            menuData = data;
            renderMenu();
        }).catch(function() {
            document.getElementById('orderMenu').innerHTML = '<p style="color:#c41e3a;">Could not load menu. Please refresh.</p>';
        });

        window.orderRenderCart = renderCart;
    })();

    document.querySelectorAll('.menu-nav-btn').forEach(function(btn) {
        btn.addEventListener('click', function() {
            var cat = btn.getAttribute('data-cat');
            showPane('menu-' + cat, true);
        });
    });

    window.addEventListener('hashchange', syncFromHash);

    updateLayout();
    window.addEventListener('resize', updateLayout);
    window.addEventListener('load', function() {
        updateLayout();
        syncFromHash();
    });
})();
    </script>
</body>
</html>
